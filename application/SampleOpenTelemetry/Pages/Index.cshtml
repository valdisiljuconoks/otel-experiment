@page "/"

@model SampleOpenTelemetry.Pages.IndexModel

@{
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Document Load Instrumentation Example</title>
    <base href="/">
    <!--
    https://www.w3.org/TR/trace-context/
    Set the `traceparent` in the server's HTML template code. It should be
    dynamically generated server side to have the server's request trace Id,
    a parent span Id that was set on the server's request span, and the trace
    flags to indicate the server's sampling decision
    (01 = sampled, 00 = notsampled).
    '{version}-{traceId}-{spanId}-{sampleDecision}'
    -->
    <meta name="traceparent" content="@Model.ActionId">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<div>
    <div>Action ID: @(Model.ActionId ?? "--")</div>

    <form method="post">
        <label asp-for="ProductId">Product Id:</label>
        <input asp-for="ProductId"/>
        @Html.AntiForgeryToken()

        <button type="submit">Submit</button>

        <input asp-for="ActionId" type="hidden"/>
    </form>
</div>

<script type="text/javascript" src="/dist/main.js"></script>

</body>
</html>